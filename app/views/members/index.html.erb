<%= render 'layouts/header' %>

<div class="container-fluid">
    <div class="row">
        <div class="col-3" style="padding-top: 15px;">
            <%= render 'search' %>
        </div>
    </div>

    <div class="row">
        <div class="col-12" style="padding-top: 15px;">
            <%= link_to new_member_path, class:"btn btn-primary" do %><i class="fas fa-plus"></i><% end %>
        </div>
    </div>
    <div class="row">
        <div class="col-12" style="padding-left: 30px; padding-right: 30px; padding-top: 15px;">
            <table class="table table-striped table-hover table-bordered table-sm">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col" style="width: 10px;" class="text-center">No.</th>
                        <th scope="col" style="width: 200px;">Name</th>
                        <th scope="col" style="width: 100px;">Gender</th>
                        <th scope="col" style="width: 150px;">Date of Birth</th>
                        <th scope="col" style="width: 100px;">Created At</th>
                        <th scope="col" style="width: 100px;">Updated At</th>
                        <th scope="col" style="width: 50px;">Action</th>
                    </tr>
                </thead>
                <% if @member_return == "empty" %>
                    <tbody>
                        <tr>
                            <td colspan="7">
                                <b>No data found.</b>
                            </td>
                        </tr>
                    </tbody>
                <% else %>
                    <tbody>
                        <% a = 1 %>
                        <% @members.each do |m| %>
                            <tr>
                                <td class="text-center"><%= a %></td>
                                <td class="text-capitalize"><%= link_to member_path(m), class:"text-decoration-none" do %><%= m.name %><% end %></td>
                                <td><%= m.gender %></td>
                                <td><%= m.dob.strftime('%d-%B-%Y') %></td>
                                <td><%= m.created_at.strftime('%d-%m-%Y %H.%M.%S') %></td>
                                <td><%= m.updated_at.strftime('%d-%m-%Y %H.%M.%S') %></td>
                                <td><%= link_to edit_member_path(m), class:"btn btn-secondary btn-sm"  do %>
                                        <i class="fas fa-edit"></i> 
                                    <% end %>
                                    <%= link_to member_path(m), method: :delete, data: { confirm: 'Are you sure?'},
                                        class:"btn btn-secondary btn-sm" do %>
                                        <i class="fas fa-user-minus"></i>
                                    <% end %>
                                </td>
                            </tr>
                            <% a+=1 %>
                        <% end %>
                    </tbody>
                <% end %>
            </table>
        </div>
    </div>
</div>
